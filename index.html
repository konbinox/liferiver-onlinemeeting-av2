<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>生命河線上聚會</title>
    <link rel="stylesheet" href="styles/main.css?v=25" />
</head>

<body>
    <div id="main">
        <div id="main-content"></div>
    </div>

    <!-- 紧急错误显示层 -->
    <div id="error-overlay"
        style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); color:red; z-index:9999; padding:20px; font-size:20px; overflow:auto;">
        <h3>Application Error</h3>
        <pre id="error-msg"></pre>
        <button onclick="localStorage.clear();location.reload()"
            style="padding:10px; font-size:18px; cursor:pointer;">Clear Cache & Reload</button>
    </div>

    <script>
        window.onerror = function (msg, url, line, col, error) {
            document.getElementById('error-overlay').style.display = 'block';
            document.getElementById('error-msg').textContent = `${msg}\n\nAt: ${url}:${line}:${col}\n\nStack:\n${error ? error.stack : 'N/A'}`;
            return false;
        };

        window.onunhandledrejection = function (event) {
            document.getElementById('error-overlay').style.display = 'block';
            document.getElementById('error-msg').textContent = `Unhandled Promise Rejection: ${event.reason}`;
        };
    </script>

    <!-- 右边缘 1/3 高处触发区 -->
    <div id="nav-trigger"></div>

    <!-- 底部导航面板（竖排） -->
    <div id="nav-panel"></div>

    <!-- 右边缘 1/3 处：结束并保存按钮 -->
    <div id="exit-trigger"></div>

    <!-- 微型编辑面板 -->
    <div id="edit-panel"></div>

    <!-- 提示框 -->
    <div id="toast"></div>

    <script type="module" src="js/app.js"></script>
</body>

</html>